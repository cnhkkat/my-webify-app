"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[729],{29729:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var l=n(95266),a=n(88066),r=n.n(a),c=n(42825),u=n.n(c),o=n(27589),i=n(40026),s=n(67294),d=n(32814),m=n(50840),f=n(22165),g=n(17472),Z=n(92030),p=n(42771),h=n(50047),v=n.n(h),E=n(27484),C=n.n(E),k=n(89250),N=n(16606),P="none--oZdtYlZ92T",T=function(e){var t=e.articles,n=e.loading,l=(0,k.useNavigate)();return s.createElement(s.Fragment,null,null!=t&&t.length?null==t?void 0:v()(t).call(t,(function(e){return s.createElement(N.Z,{key:e._id,content:e.title,right:C()(e.date).format("YYYY-MM-DD"),onClick:function(){return l("/post?title=".concat(encodeURIComponent(e.titleEng)))},loading:n})})):s.createElement("div",{className:P},"暂时无相应文章 ~"))},w=(n(59122),n(82375)),y=n(93488),D=n(32779),b=n(22638),x=n(70184),B=n(47189),Y="searchBox--zZPdnE67sg",A="searchBtn--GC3qcCvITM",z="search--Jlyx7kGBSb",G=function(e){var t=e.page,n=e.setPage,a=e.where,r=e.setWhere,c=e.run,i=(0,o.Z)(""),d=(0,l.Z)(i,2),m=d[0],f=d[1],g=(0,s.useRef)(null),Z=(0,b.Z)((function(){m?setTimeout((function(){r({title:B.db.RegExp({regexp:"".concat(m),options:"i"})}),n(1),null==c||c()}),0):w.ZP.info("请输入关键词再搜索!")})),p=(0,b.Z)((function(){"{}"!==u()(a)||1!==t||m?"{}"!==u()(a)||1!==t?setTimeout((function(){null==f||f(""),r({}),n(1),null==c||c()}),0):f(""):w.ZP.info("无需重置!")}));return(0,x.Z)(13,Z,{target:g}),(0,x.Z)(27,p,{target:g}),s.createElement("div",{className:Y},s.createElement("input",{ref:g,autoFocus:!0,type:"text",placeholder:"搜索笔记标题...",className:z,value:m,onChange:function(e){return null==f?void 0:f(e.target.value)}}),s.createElement("div",{className:A,onClick:Z},s.createElement(y.Z,null)),s.createElement("div",{className:A,onClick:p},s.createElement(D.Z,null)))},M=function(){var e,t,n=(0,o.Z)(1),a=(0,l.Z)(n,2),c=a[0],h=a[1],v=(0,o.Z)((function(){return{}})),E=(0,l.Z)(v,2),C=E[0],k=E[1],N=(0,i.Z)((function(){return(0,g.G)({dbName:f.DB.Article,where:C,page:c,size:Z.t1,sortKey:"date"})}),{retryCount:3,refreshDeps:[c],cacheKey:r()(e=r()(t="Articles-".concat(f.DB.Article,"-")).call(t,u()(C),"-")).call(e,c),staleTime:Z.wl}),P=N.data,w=N.loading,y=N.run;return s.createElement(d.Z,{title:p.D.Articles},s.createElement(G,{page:c,setPage:h,where:C,setWhere:k,run:y}),s.createElement(T,{articles:null==P?void 0:P.articles.data,loading:w}),s.createElement(m.Z,{current:c,defaultPageSize:Z.t1,total:null==P?void 0:P.sum.total,setPage:h,autoScroll:!0,scrollToTop:440}))}}}]);